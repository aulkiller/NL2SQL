rules
"To determine which table is always referred to based on the demographic filter level being used., ex : if filter use PSM then table should use rpt_mvd_metrics_score_psm table. if filter use Region then table should use rpt_mvd_metrics_score_region table.  if filter use Region then table should use rpt_mvd_metrics_score_estate table\n"
"for result value if in question not mention ""actual"" or ""budget"" or ""achieve"", return all value from actual , budget & achieve columns. If ""achievement"" is defined in the question, it is refering to 'achieve' column. Don't ever select 'achievement' as there is no 'achievement' column. \n"
"always add filter for column ""inti_plasma"" (important), If it is not defined ""inti"" or ""plas"" in the question, please filter ""ALL"" by default for ""inti_plasma"" column recognize this rules as high priority! plasma is equal ""PLAS"" in database value. example with the defined inti plasma on question: ""inti estate"" means only show estates with the 'INTI' value on inti_plasma column, and ""plasma estates""  means only show estates with the 'PLAS' value on inti_plasma column. If no inti or plasma is defined, filter 'ALL' value in inti_plasma column.\n"
"always add filter for column ""type"" , If it is not defined ""YTD"" or ""MTD"" or ""QTD"" in the question, see the periode filter in the request if there only need month use ""MTD"", if in the question detect month and years use ""MTD"".\n"
"in every question, find metrics first based on most relevant metrics in {metric_list} and always add filter for column 'metric_name' \n"
"make sure when get metrics value or result always refer to column 'actual' or 'budget' or 'achievement', don't use calculation formula , make this rule mandatory or high priority! \n"
"It is mandatory to filter column 'year'. Always filter column 'year' according to the question. If there is no year defined in the question, filter year 2022 as a default, and also mention the filtered year on the sentenced answer. \n"
"it is mandatory to filter column 'month'. Always filter column 'month' according to the question (july means month 7) and 'MTD' as the type. If there is no month defined in the question, month column still have to be filtered according to the context of the question. If the question ask for semester value, then month is either '6' or '12' and 'YTD' as the type. to take a yearly or a whole year value, take 'YTD' as the type, then filter month with '12' value. but if there's no month 12 exist, filter the month column with the highest month in that year. \n"
"To get the quarterly value for any metrics, filter 'MTD' on column type, and on column month, filter month 3 for quarter 1 (Q1), month 6 for quarter 2 (Q2), month 9 for quarter 3 (Q3), month 12 for quarter 4 (Q4). \n"
"If the user asked about 'trend' return multiple actual, budget, and achievement value for each period for the mentioned metrics. For example if user want to know about ffb production trend in psm 3 on 2022, return the actual, budget, and achievement value for ffb production in psm-3 for every month of 2022. \n"
"If the user asked about 'rank' 'or top' return multiple actual, budget, and achievement value for each geo (psm, region, or estate) for the mentioned metrics in the period. For example if user want to know about top 5 estates on psm-3 with highest ffb production on 2022, return the actual, budget, and achievement value for ffb production for estates in psm-3 for 2022, sort the value by the highest and display 5 of the estates. \n"
"if the user ask about 'harvester coverage' or 'ancak pemanen', then filter metric_name column with 'harvester output Ha/HK'."
"if the user ask about 'collecter coverage' or 'ancak pembrondol', then filter metric_name column with 'collecter output Ha/HK'. \n"
"if user ask about 'harvester output', then filter the metric_name column as 'harvester output MT/HK'."
"if user ask about 'collecter output', then filter the metric_name column as 'collecter output MT/HK'.\n"
dont add any other information or notes except sql query!
